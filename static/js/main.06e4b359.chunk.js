(this["webpackJsonpsw-test-app"]=this["webpackJsonpsw-test-app"]||[]).push([[0],{25:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(15),i=n.n(s),a=n(8),l=n(6),o=n(28),u=n(30),j=n(26),b=n(29),d=n(27),h=n(31),p=n(2),O=function(e){var t=e.planets;return Object(p.jsx)("ul",{children:t.map((function(e){return Object(p.jsx)("li",{children:e.name},e.created)}))})},f=function(e){var t=e.starships;return Object(p.jsx)("ul",{children:t.map((function(e){return Object(p.jsx)("li",{children:e.name},e.created)}))})},x=function(e){var t=e.handleDetailsClose,n=e.episodeDetails,r=Object(c.useState)([]),s=Object(l.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)([]),b=Object(l.a)(u,2),d=b[0],x=b[1],m=Object(c.useState)(!1),v=Object(l.a)(m,2),y=v[0],C=v[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),g=S[0],k=S[1];return Object(c.useEffect)((function(){C(!1),o([]),x([]),k(!1),Promise.all(n.starships.map((function(e){return fetch(e.replace("http","https")).then((function(e){return e.json()})).then((function(e){return o((function(t){return[].concat(Object(a.a)(t),[e])}))}))}))),Promise.all(n.planets.map((function(e){return fetch(e.replace("http","https")).then((function(e){return e.json()})).then((function(e){return x((function(t){return[].concat(Object(a.a)(t),[e])}))}))})))}),[n.episode_id]),Object(p.jsx)(h.a,{bg:"secondary",text:"white",children:Object(p.jsxs)(h.a.Body,{children:[Object(p.jsx)(h.a.Title,{className:"text-right",children:Object(p.jsx)(j.a,{style:{width:"50px"},variant:"dark",type:"button",onClick:t,children:"X"})}),Object(p.jsxs)(h.a.Text,{children:["Directed by",n.director]}),Object(p.jsxs)(h.a.Text,{children:["Description:",Object(p.jsx)("br",{}),n.opening_crawl]}),Object(p.jsxs)(h.a.Text,{children:["Release date:",n.release_date]}),Object(p.jsx)(h.a.Text,{onClick:function(){C((function(e){return!e}))},style:{cursor:"pointer"},children:"Starships"}),y&&Object(p.jsx)(f,{starships:i}),Object(p.jsx)(h.a.Text,{onClick:function(){k((function(e){return!e}))},style:{cursor:"pointer"},children:"Planets"}),g&&Object(p.jsx)(O,{planets:d})]})})};x.defaultProps={episodeDetails:{}};var m=function(e){var t=e.handleClickDetails,n=e.visibleFilms;return Object(p.jsx)(d.a,{children:n.map((function(e){return Object(p.jsx)(h.a,{style:{marginBottom:"20px",cursor:"pointer"},onClick:function(){t(e.episode_id)},children:Object(p.jsxs)(h.a.Body,{children:[Object(p.jsx)(h.a.Title,{children:e.title}),Object(p.jsx)(h.a.Text,{children:e.opening_crawl})]})},e.episode_id)}))})},v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),i=Object(l.a)(s,2),h=i[0],O=i[1],f=Object(c.useState)([]),v=Object(l.a)(f,2),y=v[0],C=v[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),g=S[0],k=S[1],D=Object(c.useState)(null),T=Object(l.a)(D,2),_=T[0],E=T[1];Object(c.useEffect)((function(){fetch("https://swapi.dev/api/films/").then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){r(e.results),C(e.results)}))}),[]),Object(c.useEffect)((function(){var e=n.filter((function(e){return e.title.toLowerCase().includes(h.toLocaleLowerCase())}));C(e)}),[h]);return Object(p.jsxs)(o.a,{fluid:!0,children:[Object(p.jsxs)(u.a,{expand:"lg",style:{margin:"15px 0"},children:[Object(p.jsx)("input",{type:"text",placeholder:"Search a film",value:h,onChange:function(e){O(e.target.value)}}),Object(p.jsx)(j.a,{style:{margin:"0 15px"},variant:"secondary",type:"button",onClick:function(){C(Object(a.a)(y).sort((function(e,t){return g?t.title.localeCompare(e.title):e.title.localeCompare(t.title)}))),k((function(e){return!e}))},children:g?"sort Z - A":"sort A - Z"})]}),Object(p.jsxs)(b.a,{children:[Object(p.jsx)(m,{handleClickDetails:function(e){var t=n.find((function(t){return t.episode_id===e}));E(t)},visibleFilms:y}),Object(p.jsx)(d.a,{children:_&&Object(p.jsx)(x,{handleDetailsClose:function(){E(null)},episodeDetails:_})})]})]})};n(24);i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.06e4b359.chunk.js.map