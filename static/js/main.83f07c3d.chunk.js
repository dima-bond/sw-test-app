(this["webpackJsonpsw-test-app"]=this["webpackJsonpsw-test-app"]||[]).push([[0],{25:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(15),s=n.n(r),a=n(8),l=n(6),o=n(28),u=n(30),j=n(26),b=n(29),d=n(27),O=n(31),h=n(2),f=function(e){var t=e.planets;return Object(h.jsx)("ul",{children:t.map((function(e){return Object(h.jsx)("li",{children:e.name},e.created)}))})},p=function(e){var t=e.starships;return Object(h.jsx)("ul",{children:t.map((function(e){return Object(h.jsx)("li",{children:e.name},e.created)}))})},x=function(e){var t=e.handleDetailsClose,n=e.episodeDetails,i=Object(c.useState)([]),r=Object(l.a)(i,2),s=r[0],o=r[1],u=Object(c.useState)([]),b=Object(l.a)(u,2),d=b[0],x=b[1],m=Object(c.useState)(!1),v=Object(l.a)(m,2),y=v[0],C=v[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),g=S[0],k=S[1];return Object(c.useEffect)((function(){C(!1),o([]),x([]),k(!1),Promise.all(n.starships.map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return o((function(t){return[].concat(Object(a.a)(t),[e])}))}))}))),Promise.all(n.planets.map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return x((function(t){return[].concat(Object(a.a)(t),[e])}))}))})))}),[n.episode_id]),Object(h.jsx)(O.a,{bg:"secondary",text:"white",children:Object(h.jsxs)(O.a.Body,{children:[Object(h.jsx)(O.a.Title,{className:"text-right",children:Object(h.jsx)(j.a,{style:{width:"50px"},variant:"dark",type:"button",onClick:t,children:"X"})}),Object(h.jsxs)(O.a.Text,{children:["Directed by",n.director]}),Object(h.jsxs)(O.a.Text,{children:["Description:",Object(h.jsx)("br",{}),n.opening_crawl]}),Object(h.jsxs)(O.a.Text,{children:["Release date:",n.release_date]}),Object(h.jsx)(O.a.Text,{onClick:function(){C((function(e){return!e}))},style:{cursor:"pointer"},children:"Starships"}),y&&Object(h.jsx)(p,{starships:s}),Object(h.jsx)(O.a.Text,{onClick:function(){k((function(e){return!e}))},style:{cursor:"pointer"},children:"Planets"}),g&&Object(h.jsx)(f,{planets:d})]})})},m=function(e){var t=e.handleClickDetails,n=e.visibleFilms;return Object(h.jsx)(d.a,{children:n.map((function(e){return Object(h.jsx)(O.a,{style:{marginBottom:"20px",cursor:"pointer"},onClick:function(){t(e.episode_id)},children:Object(h.jsxs)(O.a.Body,{children:[Object(h.jsx)(O.a.Title,{children:e.title}),Object(h.jsx)(O.a.Text,{children:e.opening_crawl})]})},e.episode_id)}))})},v=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),s=Object(l.a)(r,2),O=s[0],f=s[1],p=Object(c.useState)([]),v=Object(l.a)(p,2),y=v[0],C=v[1],w=Object(c.useState)(!1),S=Object(l.a)(w,2),g=S[0],k=S[1],T=Object(c.useState)(null),D=Object(l.a)(T,2),_=D[0],E=D[1];Object(c.useEffect)((function(){fetch("https://swapi.dev/api/films/").then((function(e){if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));return e.json()})).then((function(e){i(e.results),C(e.results)}))}),[]),Object(c.useEffect)((function(){var e=n.filter((function(e){return e.title.toLowerCase().includes(O.toLocaleLowerCase())}));C(e)}),[O]);return Object(h.jsxs)(o.a,{fluid:!0,children:[Object(h.jsxs)(u.a,{expand:"lg",style:{margin:"15px 0"},children:[Object(h.jsx)("input",{type:"text",placeholder:"Search a film",value:O,onChange:function(e){f(e.target.value)}}),Object(h.jsx)(j.a,{style:{margin:"0 15px"},variant:"secondary",type:"button",onClick:function(){C(Object(a.a)(y).sort((function(e,t){return g?t.title.localeCompare(e.title):e.title.localeCompare(t.title)}))),k((function(e){return!e}))},children:g?"sort Z - A":"sort A - Z"})]}),Object(h.jsxs)(b.a,{children:[Object(h.jsx)(m,{handleClickDetails:function(e){var t=n.find((function(t){return t.episode_id===e}));E(t)},visibleFilms:y}),Object(h.jsx)(d.a,{children:_&&Object(h.jsx)(x,{handleDetailsClose:function(){E(null)},episodeDetails:_})})]})]})};n(24);s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.83f07c3d.chunk.js.map